!function o(s,a,u){function c(t,e){if(!a[t]){if(!s[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(h)return h(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=a[t]={exports:{}};s[t][0].call(i.exports,function(e){return c(s[t][1][e]||e)},i,i.exports,o,s,a,u)}return a[t].exports}for(var h="function"==typeof require&&require,e=0;e<u.length;e++)c(u[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var i=e("./module/context/core/scene/sceneEngine"),o=e("./module/context/generals/global"),s=e("./script/game/scenes/loadingScene");window.onload=function(){!function(){var e=document.getElementsByTagName("canvas")[0],t=i.default.getInstance();t.initCanvas(e),t.makeWindowReactive();var n=o.default.getInstance().assetManager;n.addPath("path","path.png"),n.addPath("stone","stone.png"),n.addPath("brick","brick.png"),n.addPath("switchBlue","switchBlue.png"),n.addPath("switchRed","switchRed.png"),n.addPath("switchGreen","switchGreen.png"),n.addPath("player","player.png"),n.addPath("slime","slime.png"),n.addPath("arrow","arrow.png"),n.addPath("bow","bow.png"),n.addPath("heart","hudHeart_full.png"),n.addPath("crosshair","crosshair.png"),n.addPath("skeleton","skeleton.png"),n.addPath("sunStrike","sunStrike.png"),n.addPath("hit","hit.png"),n.addPath("fireball","fireball.png"),n.addPath("background","background.png"),n.addPath("boss","boss.png"),n.addPath("energy","energy.png"),n.addPath("dark-arrow","dark-arrow.png"),n.addPath("dark-sunStrike","dark-sunStrike.png");for(var r=0;r<10;r++)n.addPath("hud"+r,"hud"+r+".png");t.updateScene(new s.default),t.start(),n.addAssetDoneListener(function(){}),n.loadAsset()}()}},{"./module/context/core/scene/sceneEngine":4,"./module/context/generals/global":6,"./script/game/scenes/loadingScene":7}],2:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(i.prototype.setMaximize=function(){this.canvas.width=window.innerWidth,this.canvas.height=window.innerHeight},i.prototype.resizeCanvas=function(){this.setMaximize(),null!=this.reactiveListener&&this.reactiveListener(this.getWidthCanvas(),this.getHeightCanvas())},i.prototype.makeWindowReactive=function(){var e=this;window.addEventListener("resize",function(){return e.resizeCanvas()},!1)},i.prototype.setReactiveListener=function(e){this.reactiveListener=e},i.prototype.getContext2d=function(){return this.canvas.getContext("2d")},i.prototype.getWidthCanvas=function(){return this.canvas.width},i.prototype.getHeightCanvas=function(){return this.canvas.height},i);function i(e){this.canvas=e,this.reactiveListener=null}n.default=r},{}],3:[function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(n,"__esModule",{value:!0});var i=(o.prototype.addGameObject=function(e){this.gameObjects.push(e),this.reorderZIndex()},o.prototype.reorderZIndex=function(){this.gameObjects.sort(function(e,t){return e.zIndex-t.zIndex})},o.prototype.mouseContextMenu=function(e){},o.prototype.mouseClick=function(e){},o.prototype.mouseMove=function(e){},o.prototype.mouseDown=function(e){},o.prototype.mouseUp=function(e){},o.prototype.keyDown=function(e){},o.prototype.keyUp=function(e){},o.prototype.processRender=function(t,n){r(this.gameObjects).forEach(function(e){e.draw(t,n)}),this.onRender(t)},o.prototype.processUpdate=function(){r(this.gameObjects).forEach(function(e){e.update()}),this.onUpdate(),this.deleteTrash()},o.prototype.deleteTrash=function(){for(var e=0,t=this.gameObjects.filter(function(e){return e.isDestroyed});e<t.length;e++){var n=t[e];this.noticeDelete(n)}this.gameObjects=this.gameObjects.filter(function(e){return!e.isDestroyed})},o.prototype.noticeDelete=function(e){},o);function o(){this.gameObjects=[],this.lapseTime=0,this.previousTime=-1,this.fps=60,this.frameTime=1e3/this.fps}n.default=i},{}],4:[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,s,a,u){return new(a=a||Promise)(function(n,t){function r(e){try{o(u.next(e))}catch(e){t(e)}}function i(e){try{o(u.throw(e))}catch(e){t(e)}}function o(e){var t;e.done?n(e.value):((t=e.value)instanceof a?t:new a(function(e){e(t)})).then(r,i)}o((u=u.apply(e,s||[])).next())})},a=this&&this.__generator||function(n,r){var i,o,s,a={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]},e={next:t(0),throw:t(1),return:t(2)};return"function"==typeof Symbol&&(e[Symbol.iterator]=function(){return this}),e;function t(t){return function(e){return function(t){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,o&&(s=2&t[0]?o.return:t[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,t[1])).done)return s;switch(o=0,s&&(t=[2&t[0],s.value]),t[0]){case 0:case 1:s=t;break;case 4:return a.label++,{value:t[1],done:!1};case 5:a.label++,o=t[1],t=[0];continue;case 7:t=a.ops.pop(),a.trys.pop();continue;default:if(!(s=0<(s=a.trys).length&&s[s.length-1])&&(6===t[0]||2===t[0])){a=0;continue}if(3===t[0]&&(!s||t[1]>s[0]&&t[1]<s[3])){a.label=t[1];break}if(6===t[0]&&a.label<s[1]){a.label=s[1],s=t;break}if(s&&a.label<s[2]){a.label=s[2],a.ops.push(t);break}s[2]&&a.ops.pop(),a.trys.pop();continue}t=r.call(n,a)}catch(e){t=[6,e],o=0}finally{i=s=0}if(5&t[0])throw t[1];return{value:t[0]?t[1]:void 0,done:!0}}([t,e])}}};Object.defineProperty(n,"__esModule",{value:!0});var i=e("../../generals/global"),o=e("../../../canvasController"),s=e("../../../../script/handlers/timeCounter"),u=(c.prototype.getFPSRealization=function(){return this.fpsRealization},c.prototype.deltaTime=function(){return(this.getTime()-this.last_time)/1e3},c.prototype.deltaTimeMili=function(){return this.getTime()-this.last_time},c.prototype.getTime=function(){return(new Date).getTime()},c.prototype.initCanvas=function(e){var t=this;this.readyStatus=!1,this.canvas=e,this.canvasController=new o.default(this.canvas),this.ctx=this.canvasController.getContext2d(),this.currentScene=null,this.canvasController.setMaximize(),i.default.getInstance().width=this.canvasController.getWidthCanvas(),i.default.getInstance().height=this.canvasController.getHeightCanvas(),e.addEventListener("mousemove",function(e){return t.mouseMove(e)}),e.addEventListener("mousedown",function(e){return t.mouseDown(e)}),e.addEventListener("mouseup",function(e){return t.mouseUp(e)}),document.addEventListener("contextmenu",function(e){return t.mouseContextMenu(e)}),window.addEventListener("keydown",function(e){return t.keyDown(e)}),this.renderTimeCounter=new s.default(this.frameTime),this.clearTimeCounter=new s.default(2*this.frameTime)},c.prototype.mouseContextMenu=function(e){e.preventDefault(),null!=this.currentScene&&this.currentScene.mouseContextMenu(e)},c.prototype.keyDown=function(e){null!=this.currentScene&&this.currentScene.keyDown(e)},c.prototype.keyUp=function(e){null!=this.currentScene&&this.currentScene.keyUp(e)},c.prototype.mouseDown=function(e){null!=this.currentScene&&this.currentScene.mouseDown(e)},c.prototype.mouseUp=function(e){null!=this.currentScene&&this.currentScene.mouseUp(e)},c.prototype.mouseMove=function(e){null!=this.currentScene&&this.currentScene.mouseMove(e)},c.prototype.mouseClick=function(e){null!=this.currentScene&&this.currentScene.mouseClick(e)},c.prototype.getCanvasController=function(){return this.canvasController},c.getInstance=function(){return null==this.instance&&(this.instance=new c),this.instance},c.prototype.start=function(){var t=this;this.canvasController.setMaximize(),this.recurrentUpdate(),requestAnimationFrame(function(e){return t.render(e)})},c.prototype.render=function(e){var t=this;1==this.readyStatus&&(i.default.getInstance().fpsCap&&!this.willRender||(i.default.getInstance().clearCap&&!this.clearTimeCounter.updateTimeByCurrentTimeMili(e.valueOf())||this.ctx.clearRect(0,0,i.default.getInstance().width,i.default.getInstance().height),this.currentScene.processRender(this.ctx,e),this.willRender=!1)),requestAnimationFrame(function(e){return t.render(e)})},c.prototype.recurrentUpdate=function(){return r(this,void 0,void 0,function(){var n,r,i,o,s;return a(this,function(e){switch(e.label){case 0:return n=this,[4,(new Date).getTime()];case 1:n.previousTime=e.sent(),e.label=2;case 2:return[4,this.update()];case 3:return e.sent(),[4,(new Date).getTime()];case 4:return[4,(r=e.sent())-this.previousTime];case 5:return i=e.sent(),0<(o=this.frameTime-i)?[4,(t=i,new Promise(function(e){return setTimeout(e,t)}))]:[3,7];case 6:return e.sent(),this.fpsRealization=1e3/(i+o),[3,8];case 7:this.fpsRealization=1e3/i,e.label=8;case 8:return s=this,[4,r];case 9:return s.previousTime=e.sent(),this.willRender=!0,[3,2];case 10:return[2]}var t})})},c.prototype.update=function(){this.currentScene.processUpdate(),this.last_time=this.getTime()},c.prototype.makeWindowReactive=function(){this.canvasController.setReactiveListener(this.handleWindowListener),this.canvasController.makeWindowReactive()},c.prototype.handleWindowListener=function(e,t){i.default.getInstance().width=e,i.default.getInstance().height=t,window.location.reload()},c.prototype.updateScene=function(e){this.readyStatus=!1,this.currentScene=e,this.currentScene.onCreated(),this.readyStatus=!0},c.prototype.injectGameObject=function(e){null!=this.currentScene&&this.currentScene.addGameObject(e)},c.prototype.reorderZIndex=function(){null!=this.currentScene&&this.currentScene.reorderZIndex()},c.prototype.hideCursor=function(){this.canvas.style.cursor="none"},c.prototype.showCursor=function(){this.canvas.style.cursor="default"},c.instance=null,c);function c(){this.fpsRealization=0,this.previousTime=-1,this.fps=60,this.frameTime=1e3/this.fps,this.last_time=this.getTime(),this.willRender=!0}n.default=u},{"../../../../script/handlers/timeCounter":8,"../../../canvasController":2,"../../generals/global":6}],5:[function(e,t,n){"use strict";var r=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var r=Array(e),i=0,t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r};Object.defineProperty(n,"__esModule",{value:!0});var i=(o.prototype.addPath=function(e,t){this.ipaths.push({name:e,path:t})},o.prototype.addAssetDoneListener=function(e){this.assetDone=e},o.prototype.loadAsset=function(){var i=this;r(this.ipaths).forEach(function(e){var t=e.name,n=e.path,r=new Image;r.src="./assets/images/"+n,r.onload=function(){i.loadedImage[t]=r,i.doneCount++,i.check()}})},o.prototype.check=function(){this.doneCount==this.ipaths.length&&this.assetDone()},o.prototype.loadImage=function(e){var t=new Image;return t.src="./assets/images/"+e,t},o);function o(){this.ipaths=[],this.assetDone=null,this.images=[],this.doneCount=0,this.loadedImage={}}n.default=i},{}],6:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=e("./asset"),i=(o.getInstance=function(){return null===this.instance&&(this.instance=new o),this.instance},o.instance=null,o);function o(){this.width=0,this.height=0,this.debug=!1,this.assetManager=new r.default,this.name="",this.tile_size=50,this.fpsCap=!0,this.clearCap=!1}n.default=i},{"./asset":5}],7:[function(e,t,n){"use strict";var r,i=this&&this.__extends||(r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(n,"__esModule",{value:!0});var o,s=e("../../../module/context/core/scene/scene"),a=e("../../../module/context/generals/global"),u=(o=s.default,i(c,o),c.prototype.onCreated=function(){},c.prototype.onRender=function(e){e.fillStyle="black",e.fillText("Load asset...",10,20,100),e.fillText(a.default.getInstance().assetManager.doneCount+"/"+a.default.getInstance().assetManager.ipaths.length,110,20)},c.prototype.onUpdate=function(){},c);function c(){return null!==o&&o.apply(this,arguments)||this}n.default=u},{"../../../module/context/core/scene/scene":3,"../../../module/context/generals/global":6}],8:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=(i.prototype.resetCounter=function(){this.counter=0},i.prototype.updateTimeByCurrentTimeMili=function(e){if(-1!=this.previousTime){var t=e-this.previousTime;if(this.counter+=t,this.counter>=this.targetTime)return this.counter%=this.targetTime,this.previousTime=e,!0}return this.previousTime=e,!1},i.prototype.updateTimeCounter=function(e){return this.counter+=e,this.counter>=this.targetTime&&(this.counter%=this.targetTime,!0)},i.prototype.setPreviousTime=function(e){this.previousTime=e},i.prototype.setTargetTime=function(e){this.targetTime=e},i);function i(e){this.targetTime=e,this.counter=0,this.previousTime=-1}n.default=r},{}]},{},[1]);